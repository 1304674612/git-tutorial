name: Welcome New Contributors

on:
  issues:
    types: [opened]
  pull_request:
    types: [opened]

jobs:
  welcome:
    runs-on: ubuntu-latest
    steps:
    - name: Welcome new issue creator
      if: github.event_name == 'issues'
      uses: actions/github-script@v8
      with:
        script: |
          const isFirstIssue = context.payload.issue.author_association === 'FIRST_TIME_CONTRIBUTOR';
          if (isFirstIssue) {
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: `ğŸ‰ æ¬¢è¿æ‚¨æäº¤ç¬¬ä¸€ä¸ª Issueï¼

          æ„Ÿè°¢æ‚¨å¯¹ Git æ•™ç¨‹é¡¹ç›®çš„å…³æ³¨å’Œåé¦ˆã€‚æˆ‘ä»¬ä¼šå°½å¿«æŸ¥çœ‹æ‚¨çš„é—®é¢˜ã€‚

          Welcome to submit your first issue! Thank you for your attention and feedback on the Git tutorial project. We will review your issue as soon as possible.

          ğŸ“š å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªæ•™ç¨‹æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ï¼š
          - â­ ç»™é¡¹ç›®åŠ æ˜Ÿ
          - ğŸ´ Fork é¡¹ç›®
          - ğŸ“¢ åˆ†äº«ç»™æ›´å¤šäºº

          If you find this tutorial helpful, welcome to:
          - â­ Star the project
          - ğŸ´ Fork the project  
          - ğŸ“¢ Share with more people`
            });
          }
    
    - name: Welcome new PR creator
      if: github.event_name == 'pull_request'
      uses: actions/github-script@v8
      with:
        script: |
          const isFirstPR = context.payload.pull_request.author_association === 'FIRST_TIME_CONTRIBUTOR';
          if (isFirstPR) {
            github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: context.issue.number,
              body: `ğŸ‰ æ„Ÿè°¢æ‚¨çš„ç¬¬ä¸€ä¸ª Pull Requestï¼

          æ‚¨çš„è´¡çŒ®å¯¹æ”¹è¿› Git æ•™ç¨‹éå¸¸å®è´µã€‚è¯·ç¡®ä¿ï¼š
          - âœ… éµå¾ªé¡¹ç›®çš„æ–‡æ¡£é£æ ¼
          - âœ… å†…å®¹å‡†ç¡®ä¸”æ˜“äºç†è§£
          - âœ… å¦‚æœæ·»åŠ æ–°å†…å®¹ï¼Œè¯·æ›´æ–°ç›¸å…³çš„ç›®å½•ç»“æ„

          Thank you for your first Pull Request! Your contribution is very valuable for improving the Git tutorial. Please make sure:
          - âœ… Follow the project's documentation style
          - âœ… Content is accurate and easy to understand
          - âœ… If adding new content, please update the relevant directory structure`
            });
          }